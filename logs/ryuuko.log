2025-10-07 10:33:22,550 INFO root: File logging enabled: logs/ryuuko.log
2025-10-07 10:33:22,557 INFO root: Log rotation: daily, keeping 30 days
2025-10-07 10:33:22,557 INFO root: Compressed archives will be created in: logs
2025-10-07 10:33:22,557 INFO root: Starting application...
2025-10-07 10:33:22,557 INFO root: Initializing storage...
2025-10-07 10:33:22,557 INFO Config.Loader: Initializing MongoDB connection to database: polydevsdb
2025-10-07 10:33:27,602 CRITICAL Config.Loader: MongoDB initialization FAILED: No servers found yet, Timeout: 5.0s, Topology Description: <TopologyDescription id: 68e48a028565910c71eacae7, topology_type: Unknown, servers: [<ServerDescription ('192.168.2.254', 27017) server_type: Unknown, rtt: None>]>
2025-10-07 10:33:27,603 CRITICAL __main__: A fatal error occurred: MongoDB initialization FAILED: No servers found yet, Timeout: 5.0s, Topology Description: <TopologyDescription id: 68e48a028565910c71eacae7, topology_type: Unknown, servers: [<ServerDescription ('192.168.2.254', 27017) server_type: Unknown, rtt: None>]>
Traceback (most recent call last):
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/src/config/loader.py", line 125, in init_storage
    client.admin.command('ping')
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/.venv/lib/python3.12/site-packages/pymongo/_csot.py", line 125, in csot_wrapper
    return func(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/.venv/lib/python3.12/site-packages/pymongo/synchronous/database.py", line 931, in command
    with self._client._conn_for_reads(read_preference, session, operation=command_name) as (
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/.venv/lib/python3.12/site-packages/pymongo/synchronous/mongo_client.py", line 1885, in _conn_for_reads
    server = self._select_server(read_preference, session, operation)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/.venv/lib/python3.12/site-packages/pymongo/synchronous/mongo_client.py", line 1833, in _select_server
    server = topology.select_server(
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/.venv/lib/python3.12/site-packages/pymongo/synchronous/topology.py", line 409, in select_server
    server = self._select_server(
             ^^^^^^^^^^^^^^^^^^^^
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/.venv/lib/python3.12/site-packages/pymongo/synchronous/topology.py", line 387, in _select_server
    servers = self.select_servers(
              ^^^^^^^^^^^^^^^^^^^^
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/.venv/lib/python3.12/site-packages/pymongo/synchronous/topology.py", line 294, in select_servers
    server_descriptions = self._select_servers_loop(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/.venv/lib/python3.12/site-packages/pymongo/synchronous/topology.py", line 344, in _select_servers_loop
    raise ServerSelectionTimeoutError(
pymongo.errors.ServerSelectionTimeoutError: No servers found yet, Timeout: 5.0s, Topology Description: <TopologyDescription id: 68e48a028565910c71eacae7, topology_type: Unknown, servers: [<ServerDescription ('192.168.2.254', 27017) server_type: Unknown, rtt: None>]>

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/src/__main__.py", line 38, in main
    loader.init_storage()
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/src/config/loader.py", line 132, in init_storage
    raise RuntimeError(f"MongoDB initialization FAILED: {e}") from e
RuntimeError: MongoDB initialization FAILED: No servers found yet, Timeout: 5.0s, Topology Description: <TopologyDescription id: 68e48a028565910c71eacae7, topology_type: Unknown, servers: [<ServerDescription ('192.168.2.254', 27017) server_type: Unknown, rtt: None>]>
2025-10-09 13:15:40,442 INFO root: File logging enabled: logs/ryuuko.log
2025-10-09 13:15:40,442 INFO root: Log rotation: daily, keeping 30 days
2025-10-09 13:15:40,442 INFO root: Compressed archives will be created in: logs
2025-10-09 13:15:40,442 INFO root: Starting application...
2025-10-09 13:15:40,442 INFO root: Initializing storage...
2025-10-09 13:15:40,442 INFO Config.Loader: Initializing MongoDB connection to database: polydevsdb
2025-10-09 13:15:40,465 INFO Storage.Database: MongoDB indexes created successfully
2025-10-09 13:15:40,466 INFO Storage.Database: Successfully connected to MongoDB: polydevsdb
2025-10-09 13:15:40,505 INFO Config.Loader: MongoDB store initialized successfully.
2025-10-09 13:15:40,505 INFO root: Storage initialized successfully.
2025-10-09 13:15:40,505 INFO root: ==================================================
2025-10-09 13:15:40,505 INFO root: Ryuuko Chatbot Initializing...
2025-10-09 13:15:40,505 INFO root: Storage Type: MongoDB
2025-10-09 13:15:40,505 INFO root: Database Name: polydevsdb
2025-10-09 13:15:40,505 INFO root: AI Gateway Mode: Integrated (Direct Call)
2025-10-09 13:15:40,505 INFO root: ==================================================
2025-10-09 13:15:40,505 WARNING discord.client: PyNaCl is not installed, voice will NOT be supported
2025-10-09 13:15:40,505 INFO Bot.Main: [INIT] Initializing bot modules...
2025-10-09 13:15:40,505 INFO Storage.Memory: MemoryStore initialized with MongoDB backend.
2025-10-09 13:15:40,505 INFO Config.UserConfig: UserConfigManager initialized successfully with MongoDB.
2025-10-09 13:15:40,509 INFO Bot.Services.Auth: [OK] Loaded 0 authorized users from MongoDB.
2025-10-09 13:15:40,509 INFO Bot.Commands: [INIT] Registering all command groups...
2025-10-09 13:15:40,509 INFO Bot.Commands.Basic: Basic commands have been successfully registered.
2025-10-09 13:15:40,509 CRITICAL __main__: A fatal error occurred: 'call_api'
Traceback (most recent call last):
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/__main__.py", line 55, in main
    bot = Bot()
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/main.py", line 36, in __init__
    self._setup_bot_functionality()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/main.py", line 91, in _setup_bot_functionality
    register_all_commands(self, dependencies)
    ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/commands/__init__.py", line 43, in register_all_commands
    dependencies['call_api'],
    ~~~~~~~~~~~~^^^^^^^^^^^^
KeyError: 'call_api'
2025-10-09 13:17:53,243 INFO root: File logging enabled: logs/ryuuko.log
2025-10-09 13:17:53,243 INFO root: Log rotation: daily, keeping 30 days
2025-10-09 13:17:53,243 INFO root: Compressed archives will be created in: logs
2025-10-09 13:17:53,243 INFO root: Starting application...
2025-10-09 13:17:53,243 INFO root: Initializing storage...
2025-10-09 13:17:53,243 INFO Config.Loader: Initializing MongoDB connection to database: polydevsdb
2025-10-09 13:17:53,253 INFO Storage.Database: MongoDB indexes created successfully
2025-10-09 13:17:53,253 INFO Storage.Database: Successfully connected to MongoDB: polydevsdb
2025-10-09 13:17:53,254 INFO Config.Loader: MongoDB store initialized successfully.
2025-10-09 13:17:53,254 INFO root: Storage initialized successfully.
2025-10-09 13:17:53,254 INFO root: ==================================================
2025-10-09 13:17:53,255 INFO root: Ryuuko Chatbot Initializing...
2025-10-09 13:17:53,255 INFO root: Storage Type: MongoDB
2025-10-09 13:17:53,255 INFO root: Database Name: polydevsdb
2025-10-09 13:17:53,255 INFO root: AI Gateway Mode: Integrated (Direct Call)
2025-10-09 13:17:53,255 INFO root: ==================================================
2025-10-09 13:17:53,255 WARNING discord.client: PyNaCl is not installed, voice will NOT be supported
2025-10-09 13:17:53,255 INFO Bot.Main: [INIT] Initializing bot modules...
2025-10-09 13:17:53,255 INFO Storage.Memory: MemoryStore initialized with MongoDB backend.
2025-10-09 13:17:53,255 INFO Config.UserConfig: UserConfigManager initialized successfully with MongoDB.
2025-10-09 13:17:53,255 INFO Bot.Services.Auth: [OK] Loaded 0 authorized users from MongoDB.
2025-10-09 13:17:53,255 INFO Bot.Commands: [INIT] Registering all command groups...
2025-10-09 13:17:53,255 INFO Bot.Commands.Basic: Basic commands have been successfully registered.
2025-10-09 13:17:53,256 INFO Bot.Commands.User: User commands have been successfully registered.
2025-10-09 13:17:53,256 INFO Bot.Commands.Admin: Admin commands have been successfully registered.
2025-10-09 13:17:53,256 INFO Bot.Commands.System: System commands have been successfully registered.
2025-10-09 13:17:53,256 INFO Bot.Commands: [OK] All command groups have been registered.
2025-10-09 13:17:53,256 INFO Bot.Events.Messages: [OK] Message event listeners have been registered
2025-10-09 13:17:53,256 INFO Bot.Main: [OK] All bot modules initialized successfully.
2025-10-09 13:17:53,256 INFO root: Bot instance created. Starting bot...
2025-10-09 13:17:53,256 INFO Bot.Main: [HEALTH] Running pre-startup health checks...
2025-10-09 13:17:53,256 INFO HealthCheck: Starting health checks...
2025-10-09 13:17:53,793 INFO Bot.Main: [OK] All health checks passed!
2025-10-09 13:17:53,793 INFO Bot.Main: [START] Starting Discord bot...
2025-10-09 13:18:01,018 INFO Bot.Main: [OK] Bot is ready: Ryuuko#4024 (id=1405869084528087050)
2025-10-09 13:18:01,018 INFO Bot.Main: Registered prefix commands: ['addcredit', 'addmodel', 'auth', 'auths', 'clearmemory', 'deauth', 'deductcredit', 'editmodel', 'help', 'memory', 'model', 'models', 'ping', 'profile', 'removemodel', 'setcredit', 'setlevel', 'showprompt', 'sysprompt']
2025-10-09 13:18:14,375 INFO Bot.Main: [STOP] Bot shutdown initiated.
2025-10-09 13:18:14,376 INFO Bot.Main: [EXIT] Bot process exiting.
2025-10-09 13:19:18,245 INFO root: File logging enabled: logs/ryuuko.log
2025-10-09 13:19:18,245 INFO root: Log rotation: daily, keeping 30 days
2025-10-09 13:19:18,245 INFO root: Compressed archives will be created in: logs
2025-10-09 13:19:18,245 INFO root: Starting application...
2025-10-09 13:19:18,245 INFO root: Initializing storage...
2025-10-09 13:19:18,245 INFO Config.Loader: Initializing MongoDB connection to database: polydevsdb
2025-10-09 13:19:18,254 INFO Storage.Database: MongoDB indexes created successfully
2025-10-09 13:19:18,254 INFO Storage.Database: Successfully connected to MongoDB: polydevsdb
2025-10-09 13:19:18,255 INFO Config.Loader: MongoDB store initialized successfully.
2025-10-09 13:19:18,255 INFO root: Storage initialized successfully.
2025-10-09 13:19:18,255 INFO root: ==================================================
2025-10-09 13:19:18,255 INFO root: Ryuuko Chatbot Initializing...
2025-10-09 13:19:18,255 INFO root: Storage Type: MongoDB
2025-10-09 13:19:18,255 INFO root: Database Name: polydevsdb
2025-10-09 13:19:18,255 INFO root: AI Gateway Mode: Integrated (Direct Call)
2025-10-09 13:19:18,255 INFO root: ==================================================
2025-10-09 13:19:18,255 WARNING discord.client: PyNaCl is not installed, voice will NOT be supported
2025-10-09 13:19:18,256 INFO Bot.Main: [INIT] Initializing bot modules...
2025-10-09 13:19:18,256 INFO Storage.Memory: MemoryStore initialized with MongoDB backend.
2025-10-09 13:19:18,256 INFO Config.UserConfig: UserConfigManager initialized successfully with MongoDB.
2025-10-09 13:19:18,256 INFO Bot.Services.Auth: [OK] Loaded 0 authorized users from MongoDB.
2025-10-09 13:19:18,256 INFO Bot.Commands: [INIT] Registering all command groups...
2025-10-09 13:19:18,256 INFO Bot.Commands.Basic: Basic commands have been successfully registered.
2025-10-09 13:19:18,256 INFO Bot.Commands.User: User commands have been successfully registered.
2025-10-09 13:19:18,256 INFO Bot.Commands.Admin: Admin commands have been successfully registered.
2025-10-09 13:19:18,256 INFO Bot.Commands.System: System commands have been successfully registered.
2025-10-09 13:19:18,256 INFO Bot.Commands: [OK] All command groups have been registered.
2025-10-09 13:19:18,256 INFO Bot.Events.Messages: [OK] Message event listeners have been registered
2025-10-09 13:19:18,256 INFO Bot.Main: [OK] All bot modules initialized successfully.
2025-10-09 13:19:18,256 INFO root: Bot instance created. Starting bot...
2025-10-09 13:19:18,256 INFO Bot.Main: [HEALTH] Running pre-startup health checks...
2025-10-09 13:19:18,256 INFO HealthCheck: Starting health checks...
2025-10-09 13:19:18,738 INFO Bot.Main: [OK] All health checks passed!
2025-10-09 13:19:18,738 INFO Bot.Main: [START] Starting Discord bot...
2025-10-09 13:19:22,492 INFO Bot.Main: [OK] Bot is ready: Ryuuko Preview#2812 (id=1425479067095797924)
2025-10-09 13:19:22,492 INFO Bot.Main: Registered prefix commands: ['addcredit', 'addmodel', 'auth', 'auths', 'clearmemory', 'deauth', 'deductcredit', 'editmodel', 'help', 'memory', 'model', 'models', 'ping', 'profile', 'removemodel', 'setcredit', 'setlevel', 'showprompt', 'sysprompt']
2025-10-09 13:19:51,090 INFO Bot.Main: [STOP] Bot shutdown initiated.
2025-10-09 13:19:51,090 INFO Bot.Main: [EXIT] Bot process exiting.
2025-10-09 13:29:09,042 INFO root: File logging enabled: logs/ryuuko.log
2025-10-09 13:29:09,042 INFO root: Log rotation: daily, keeping 30 days
2025-10-09 13:29:09,042 INFO root: Compressed archives will be created in: logs
2025-10-09 13:29:09,043 INFO root: Starting application...
2025-10-09 13:29:09,043 INFO root: Initializing storage...
2025-10-09 13:29:09,043 INFO Config.Loader: Initializing MongoDB connection to database: polydevsdb
2025-10-09 13:29:09,052 INFO Storage.Database: MongoDB indexes created successfully
2025-10-09 13:29:09,052 INFO Storage.Database: Successfully connected to MongoDB: polydevsdb
2025-10-09 13:29:09,054 INFO Config.Loader: MongoDB store initialized successfully.
2025-10-09 13:29:09,054 INFO root: Storage initialized successfully.
2025-10-09 13:29:09,054 INFO root: ==================================================
2025-10-09 13:29:09,054 INFO root: Ryuuko Chatbot Initializing...
2025-10-09 13:29:09,054 INFO root: Storage Type: MongoDB
2025-10-09 13:29:09,054 INFO root: Database Name: polydevsdb
2025-10-09 13:29:09,054 INFO root: AI Gateway Mode: Integrated (Direct Call)
2025-10-09 13:29:09,054 INFO root: ==================================================
2025-10-09 13:29:09,054 WARNING discord.client: PyNaCl is not installed, voice will NOT be supported
2025-10-09 13:29:09,054 INFO Bot.Main: [INIT] Initializing bot modules...
2025-10-09 13:29:09,054 INFO Storage.Memory: MemoryStore initialized with MongoDB backend.
2025-10-09 13:29:09,054 INFO Config.UserConfig: UserConfigManager initialized successfully with MongoDB.
2025-10-09 13:29:09,055 INFO Bot.Services.Auth: [OK] Loaded 0 authorized users from MongoDB.
2025-10-09 13:29:09,055 INFO Bot.Commands: [INIT] Registering all command groups...
2025-10-09 13:29:09,055 INFO Bot.Commands.Basic: Basic commands have been successfully registered.
2025-10-09 13:29:09,055 INFO Bot.Commands.User: User commands have been successfully registered.
2025-10-09 13:29:09,055 INFO Bot.Commands.Admin: Admin commands have been successfully registered.
2025-10-09 13:29:09,055 INFO Bot.Commands.System: System commands have been successfully registered.
2025-10-09 13:29:09,055 INFO Bot.Commands: [OK] All command groups have been registered.
2025-10-09 13:29:09,055 INFO Bot.Events.Messages: [OK] Message event listeners have been registered
2025-10-09 13:29:09,055 INFO Bot.Main: [OK] All bot modules initialized successfully.
2025-10-09 13:29:09,055 INFO root: Bot instance created. Starting bot...
2025-10-09 13:29:09,055 INFO Bot.Main: [HEALTH] Running pre-startup health checks...
2025-10-09 13:29:09,055 INFO HealthCheck: Starting health checks...
2025-10-09 13:29:09,557 INFO Bot.Main: [OK] All health checks passed!
2025-10-09 13:29:09,557 INFO Bot.Main: [START] Starting Discord bot...
2025-10-09 13:29:09,736 INFO Bot.Main: [STOP] Bot shutdown initiated.
2025-10-09 13:29:09,736 INFO Bot.Main: [EXIT] Bot process exiting.
2025-10-09 13:31:56,465 INFO root: File logging enabled: logs/ryuuko.log
2025-10-09 13:31:56,465 INFO root: Log rotation: daily, keeping 30 days
2025-10-09 13:31:56,465 INFO root: Compressed archives will be created in: logs
2025-10-09 13:31:56,465 INFO root: Starting application...
2025-10-09 13:31:56,465 INFO root: Initializing storage...
2025-10-09 13:31:56,465 INFO Config.Loader: Initializing MongoDB connection to database: polydevsdb
2025-10-09 13:31:56,474 INFO Storage.Database: MongoDB indexes created successfully
2025-10-09 13:31:56,474 INFO Storage.Database: Successfully connected to MongoDB: polydevsdb
2025-10-09 13:31:56,479 INFO Config.Loader: MongoDB store initialized successfully.
2025-10-09 13:31:56,479 INFO root: Storage initialized successfully.
2025-10-09 13:31:56,479 INFO root: ==================================================
2025-10-09 13:31:56,479 INFO root: Ryuuko Chatbot Initializing...
2025-10-09 13:31:56,479 INFO root: Storage Type: MongoDB
2025-10-09 13:31:56,479 INFO root: Database Name: polydevsdb
2025-10-09 13:31:56,479 INFO root: AI Gateway Mode: Integrated (Direct Call)
2025-10-09 13:31:56,479 INFO root: ==================================================
2025-10-09 13:31:56,479 WARNING discord.client: PyNaCl is not installed, voice will NOT be supported
2025-10-09 13:31:56,479 INFO Bot.Main: [INIT] Initializing bot modules...
2025-10-09 13:31:56,479 INFO Storage.Memory: MemoryStore initialized with MongoDB backend.
2025-10-09 13:31:56,479 INFO Config.UserConfig: UserConfigManager initialized successfully with MongoDB.
2025-10-09 13:31:56,480 INFO Bot.Services.Auth: [OK] Loaded 0 authorized users from MongoDB.
2025-10-09 13:31:56,480 INFO Bot.Commands: [INIT] Registering all command groups...
2025-10-09 13:31:56,480 INFO Bot.Commands.Basic: Basic commands have been successfully registered.
2025-10-09 13:31:56,480 INFO Bot.Commands.User: User commands have been successfully registered.
2025-10-09 13:31:56,480 INFO Bot.Commands.Admin: Admin commands have been successfully registered.
2025-10-09 13:31:56,480 INFO Bot.Commands.System: System commands have been successfully registered.
2025-10-09 13:31:56,480 INFO Bot.Commands: [OK] All command groups have been registered.
2025-10-09 13:31:56,480 INFO Bot.Events.Messages: [OK] Message event listeners have been registered
2025-10-09 13:31:56,480 INFO Bot.Main: [OK] All bot modules initialized successfully.
2025-10-09 13:31:56,480 INFO root: Bot instance created. Starting bot...
2025-10-09 13:31:56,481 INFO Bot.Main: [HEALTH] Running pre-startup health checks...
2025-10-09 13:31:56,481 INFO HealthCheck: Starting health checks...
2025-10-09 13:31:56,958 INFO Bot.Main: [OK] All health checks passed!
2025-10-09 13:31:56,958 INFO Bot.Main: [START] Starting Discord bot...
2025-10-09 13:32:00,688 INFO Bot.Main: [OK] Bot is ready: Ryuuko Preview#2812 (id=1425479067095797924)
2025-10-09 13:32:00,689 INFO Bot.Main: Registered prefix commands: ['addcredit', 'addmodel', 'auth', 'auths', 'clearmemory', 'deauth', 'deductcredit', 'editmodel', 'help', 'memory', 'model', 'models', 'ping', 'profile', 'removemodel', 'setcredit', 'setlevel', 'showprompt', 'sysprompt']
2025-10-09 13:32:55,988 INFO Bot.Main: [STOP] Bot shutdown initiated.
2025-10-09 13:32:55,989 INFO Bot.Main: [EXIT] Bot process exiting.
2025-10-09 13:32:57,635 INFO root: File logging enabled: logs/ryuuko.log
2025-10-09 13:32:57,635 INFO root: Log rotation: daily, keeping 30 days
2025-10-09 13:32:57,635 INFO root: Compressed archives will be created in: logs
2025-10-09 13:32:57,636 INFO root: Starting application...
2025-10-09 13:32:57,636 INFO root: Initializing storage...
2025-10-09 13:32:57,636 INFO Config.Loader: Initializing MongoDB connection to database: polydevsdb
2025-10-09 13:32:57,644 INFO Storage.Database: MongoDB indexes created successfully
2025-10-09 13:32:57,645 INFO Storage.Database: Successfully connected to MongoDB: polydevsdb
2025-10-09 13:32:57,648 INFO Config.Loader: MongoDB store initialized successfully.
2025-10-09 13:32:57,648 INFO root: Storage initialized successfully.
2025-10-09 13:32:57,648 INFO root: ==================================================
2025-10-09 13:32:57,648 INFO root: Ryuuko Chatbot Initializing...
2025-10-09 13:32:57,648 INFO root: Storage Type: MongoDB
2025-10-09 13:32:57,648 INFO root: Database Name: polydevsdb
2025-10-09 13:32:57,648 INFO root: AI Gateway Mode: Integrated (Direct Call)
2025-10-09 13:32:57,648 INFO root: ==================================================
2025-10-09 13:32:57,648 WARNING discord.client: PyNaCl is not installed, voice will NOT be supported
2025-10-09 13:32:57,648 INFO Bot.Main: [INIT] Initializing bot modules...
2025-10-09 13:32:57,648 CRITICAL __main__: A fatal error occurred: MongoDB store not initialized. Call init_mongodb_store() first.
Traceback (most recent call last):
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/__main__.py", line 55, in main
    bot = Bot()
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/main.py", line 32, in __init__
    self._setup_bot_functionality()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/main.py", line 57, in _setup_bot_functionality
    mongodb_store = get_mongodb_store()
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/storage/database.py", line 695, in get_mongodb_store
    raise RuntimeError("MongoDB store not initialized. Call init_mongodb_store() first.")
RuntimeError: MongoDB store not initialized. Call init_mongodb_store() first.
2025-10-09 13:33:06,698 INFO root: File logging enabled: logs/ryuuko.log
2025-10-09 13:33:06,698 INFO root: Log rotation: daily, keeping 30 days
2025-10-09 13:33:06,698 INFO root: Compressed archives will be created in: logs
2025-10-09 13:33:06,698 INFO root: Starting application...
2025-10-09 13:33:06,698 INFO root: Initializing storage...
2025-10-09 13:33:06,698 INFO Config.Loader: Initializing MongoDB connection to database: polydevsdb
2025-10-09 13:33:06,706 INFO Storage.Database: MongoDB indexes created successfully
2025-10-09 13:33:06,706 INFO Storage.Database: Successfully connected to MongoDB: polydevsdb
2025-10-09 13:33:06,707 INFO Config.Loader: MongoDB store initialized successfully.
2025-10-09 13:33:06,707 INFO root: Storage initialized successfully.
2025-10-09 13:33:06,707 INFO root: ==================================================
2025-10-09 13:33:06,707 INFO root: Ryuuko Chatbot Initializing...
2025-10-09 13:33:06,707 INFO root: Storage Type: MongoDB
2025-10-09 13:33:06,707 INFO root: Database Name: polydevsdb
2025-10-09 13:33:06,707 INFO root: AI Gateway Mode: Integrated (Direct Call)
2025-10-09 13:33:06,707 INFO root: ==================================================
2025-10-09 13:33:06,707 WARNING discord.client: PyNaCl is not installed, voice will NOT be supported
2025-10-09 13:33:06,707 INFO Bot.Main: [INIT] Initializing bot modules...
2025-10-09 13:33:06,707 CRITICAL __main__: A fatal error occurred: MongoDB store not initialized. Call init_mongodb_store() first.
Traceback (most recent call last):
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/__main__.py", line 55, in main
    bot = Bot()
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/main.py", line 32, in __init__
    self._setup_bot_functionality()
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/main.py", line 57, in _setup_bot_functionality
    mongodb_store = get_mongodb_store()
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/storage/database.py", line 695, in get_mongodb_store
    raise RuntimeError("MongoDB store not initialized. Call init_mongodb_store() first.")
RuntimeError: MongoDB store not initialized. Call init_mongodb_store() first.
2025-10-09 13:36:38,214 INFO root: File logging enabled: logs/ryuuko.log
2025-10-09 13:36:38,215 INFO root: Log rotation: daily, keeping 30 days
2025-10-09 13:36:38,215 INFO root: Compressed archives will be created in: logs
2025-10-09 13:36:38,215 INFO root: Starting application...
2025-10-09 13:36:38,215 INFO root: Initializing storage...
2025-10-09 13:36:38,215 INFO Config.Loader: Initializing MongoDB connection to database: polydevsdb
2025-10-09 13:36:38,224 INFO Storage.Database: MongoDB indexes created successfully
2025-10-09 13:36:38,224 INFO Storage.Database: Successfully connected to MongoDB: polydevsdb
2025-10-09 13:36:38,227 INFO Config.Loader: MongoDB store initialized successfully.
2025-10-09 13:36:38,227 INFO root: Storage initialized successfully.
2025-10-09 13:36:38,227 INFO root: ==================================================
2025-10-09 13:36:38,227 INFO root: Ryuuko Chatbot Initializing...
2025-10-09 13:36:38,228 INFO root: Storage Type: MongoDB
2025-10-09 13:36:38,228 INFO root: Database Name: polydevsdb
2025-10-09 13:36:38,228 INFO root: AI Gateway Mode: Integrated (Direct Call)
2025-10-09 13:36:38,228 INFO root: ==================================================
2025-10-09 13:36:38,228 WARNING discord.client: PyNaCl is not installed, voice will NOT be supported
2025-10-09 13:36:38,228 INFO root: Bot instance created. Starting bot...
2025-10-09 13:36:38,228 INFO discord.client: logging in using static token
2025-10-09 13:36:40,064 INFO discord.gateway: Shard ID None has connected to Gateway (Session ID: ae037630eb16f6401e93c9a32f3cbb82).
2025-10-09 13:36:42,070 INFO Bot.Main: [OK] Bot is ready: Ryuuko Preview#2812 (id=1425479067095797924)
2025-10-09 13:36:42,071 INFO Bot.Main: Registered prefix commands: []
2025-10-09 13:37:25,618 INFO root: File logging enabled: logs/ryuuko.log
2025-10-09 13:37:25,618 INFO root: Log rotation: daily, keeping 30 days
2025-10-09 13:37:25,618 INFO root: Compressed archives will be created in: logs
2025-10-09 13:37:25,618 INFO root: Starting application...
2025-10-09 13:37:25,618 INFO root: Initializing storage...
2025-10-09 13:37:25,618 INFO Config.Loader: Initializing MongoDB connection to database: polydevsdb
2025-10-09 13:37:25,627 INFO Storage.Database: MongoDB indexes created successfully
2025-10-09 13:37:25,627 INFO Storage.Database: Successfully connected to MongoDB: polydevsdb
2025-10-09 13:37:25,628 INFO Config.Loader: MongoDB store initialized successfully.
2025-10-09 13:37:25,628 INFO root: Storage initialized successfully.
2025-10-09 13:37:25,628 INFO root: ==================================================
2025-10-09 13:37:25,628 INFO root: Ryuuko Chatbot Initializing...
2025-10-09 13:37:25,628 INFO root: Storage Type: MongoDB
2025-10-09 13:37:25,628 INFO root: Database Name: polydevsdb
2025-10-09 13:37:25,628 INFO root: AI Gateway Mode: Integrated (Direct Call)
2025-10-09 13:37:25,628 INFO root: ==================================================
2025-10-09 13:37:25,629 WARNING discord.client: PyNaCl is not installed, voice will NOT be supported
2025-10-09 13:37:25,629 INFO root: Bot instance created. Starting bot...
2025-10-09 13:37:25,629 INFO discord.client: logging in using static token
2025-10-09 13:37:27,331 INFO discord.gateway: Shard ID None has connected to Gateway (Session ID: 4a3396d8a99bbb67104f470683ecfb6e).
2025-10-09 13:37:29,375 INFO Bot.Main: [OK] Bot is ready: Ryuuko Preview#2812 (id=1425479067095797924)
2025-10-09 13:37:29,375 INFO Bot.Main: Registered prefix commands: []
2025-10-09 20:26:33,732 INFO root: File logging enabled: logs/ryuuko.log
2025-10-09 20:26:33,733 INFO root: Log rotation: daily, keeping 30 days
2025-10-09 20:26:33,733 INFO root: Compressed archives will be created in: logs
2025-10-09 20:26:33,733 INFO __main__: Starting application...
2025-10-09 20:26:33,733 INFO __main__: Initializing storage...
2025-10-09 20:26:33,733 INFO Config.Loader: Initializing MongoDB connection to database: polydevsdb
2025-10-09 20:26:33,758 INFO Storage.Database: MongoDB indexes created successfully
2025-10-09 20:26:33,758 INFO Storage.Database: Successfully connected to MongoDB: polydevsdb
2025-10-09 20:26:33,784 INFO Config.Loader: MongoDB store initialized successfully.
2025-10-09 20:26:33,785 INFO __main__: Storage initialized successfully.
2025-10-09 20:26:33,785 WARNING discord.client: PyNaCl is not installed, voice will NOT be supported
2025-10-09 20:26:33,785 INFO Bot.Main: [INIT] Initializing bot modules...
2025-10-09 20:26:33,785 INFO Storage.Memory: MemoryStore initialized with MongoDB backend.
2025-10-09 20:26:33,785 ERROR Config.UserConfig: Failed to acquire MongoDB store for UserConfigManager: No module named 'storage'
2025-10-09 20:26:33,785 CRITICAL __main__: A fatal error occurred: MongoDB is required for UserConfigManager but is not available: No module named 'storage'
Traceback (most recent call last):
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/config/user_config.py", line 34, in __init__
    from storage.database import get_mongodb_store
ModuleNotFoundError: No module named 'storage'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/__main__.py", line 29, in main
    bot.setup_modules()
    ~~~~~~~~~~~~~~~~~^^
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/main.py", line 57, in setup_modules
    user_config_manager = get_user_config_manager()
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/config/user_config.py", line 150, in get_user_config_manager
    _user_config_manager = UserConfigManager()
  File "/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/config/user_config.py", line 39, in __init__
    raise RuntimeError(f"MongoDB is required for UserConfigManager but is not available: {e}")
RuntimeError: MongoDB is required for UserConfigManager but is not available: No module named 'storage'
2025-10-09 20:27:25,033 INFO root: File logging enabled: logs/ryuuko.log
2025-10-09 20:27:25,034 INFO root: Log rotation: daily, keeping 30 days
2025-10-09 20:27:25,035 INFO root: Compressed archives will be created in: logs
2025-10-09 20:27:25,035 INFO __main__: Starting application...
2025-10-09 20:27:25,035 INFO __main__: Initializing storage...
2025-10-09 20:27:25,035 INFO Config.Loader: Initializing MongoDB connection to database: polydevsdb
2025-10-09 20:27:25,076 INFO Storage.Database: MongoDB indexes created successfully
2025-10-09 20:27:25,076 INFO Storage.Database: Successfully connected to MongoDB: polydevsdb
2025-10-09 20:27:25,078 INFO Config.Loader: MongoDB store initialized successfully.
2025-10-09 20:27:25,078 INFO __main__: Storage initialized successfully.
2025-10-09 20:27:25,078 WARNING discord.client: PyNaCl is not installed, voice will NOT be supported
2025-10-09 20:27:25,079 INFO Bot.Main: [INIT] Initializing bot modules...
2025-10-09 20:27:25,079 INFO Storage.Memory: MemoryStore initialized with MongoDB backend.
2025-10-09 20:27:25,079 INFO Config.UserConfig: UserConfigManager initialized successfully with MongoDB.
2025-10-09 20:27:25,081 INFO Bot.Services.Auth: [OK] Loaded 0 authorized users from MongoDB.
2025-10-09 20:27:25,082 INFO Bot.Commands: [INIT] Registering all command groups...
2025-10-09 20:27:25,082 INFO Bot.Commands.Basic: Basic commands have been successfully registered.
2025-10-09 20:27:25,083 INFO Bot.Commands.User: User commands have been successfully registered.
2025-10-09 20:27:25,083 INFO Bot.Commands.Admin: Admin commands have been successfully registered.
2025-10-09 20:27:25,083 INFO Bot.Commands.System: System commands have been successfully registered.
2025-10-09 20:27:25,083 INFO Bot.Commands: [OK] All command groups have been registered.
2025-10-09 20:27:25,083 INFO Bot.Events.Messages: [OK] Message event listeners have been registered
2025-10-09 20:27:25,083 INFO Bot.Main: [OK] All bot modules initialized successfully.
2025-10-09 20:27:25,084 INFO Bot.Main: [HEALTH] Running pre-startup health checks...
2025-10-09 20:27:25,084 INFO HealthCheck: Starting health checks...
2025-10-09 20:27:25,485 ERROR HealthCheck: Health checks failed on: mongodb
2025-10-09 20:27:25,485 CRITICAL Bot.Main: [CRASH] Health checks failed. Bot startup aborted.
2025-10-09 20:27:25,485 INFO Bot.Main: [STOP] Bot shutdown initiated.
2025-10-09 20:27:25,485 INFO Bot.Main: [EXIT] Bot process exiting.
2025-10-09 20:28:47,761 INFO root: File logging enabled: logs/ryuuko.log
2025-10-09 20:28:47,761 INFO root: Log rotation: daily, keeping 30 days
2025-10-09 20:28:47,761 INFO root: Compressed archives will be created in: logs
2025-10-09 20:28:47,761 INFO __main__: Starting application...
2025-10-09 20:28:47,761 INFO __main__: Initializing storage...
2025-10-09 20:28:47,761 INFO Config.Loader: Initializing MongoDB connection to database: polydevsdb
2025-10-09 20:28:47,774 INFO Storage.Database: MongoDB indexes created successfully
2025-10-09 20:28:47,774 INFO Storage.Database: Successfully connected to MongoDB: polydevsdb
2025-10-09 20:28:47,775 INFO Config.Loader: MongoDB store initialized successfully.
2025-10-09 20:28:47,775 INFO __main__: Storage initialized successfully.
2025-10-09 20:28:47,776 WARNING discord.client: PyNaCl is not installed, voice will NOT be supported
2025-10-09 20:28:47,776 INFO Bot.Main: [INIT] Initializing bot modules...
2025-10-09 20:28:47,776 INFO Storage.Memory: MemoryStore initialized with MongoDB backend.
2025-10-09 20:28:47,776 INFO Config.UserConfig: UserConfigManager initialized successfully with MongoDB.
2025-10-09 20:28:47,776 INFO Bot.Services.Auth: [OK] Loaded 0 authorized users from MongoDB.
2025-10-09 20:28:47,776 INFO Bot.Commands: [INIT] Registering all command groups...
2025-10-09 20:28:47,776 INFO Bot.Commands.Basic: Basic commands have been successfully registered.
2025-10-09 20:28:47,777 INFO Bot.Commands.User: User commands have been successfully registered.
2025-10-09 20:28:47,777 INFO Bot.Commands.Admin: Admin commands have been successfully registered.
2025-10-09 20:28:47,777 INFO Bot.Commands.System: System commands have been successfully registered.
2025-10-09 20:28:47,777 INFO Bot.Commands: [OK] All command groups have been registered.
2025-10-09 20:28:47,777 INFO Bot.Events.Messages: [OK] Message event listeners have been registered
2025-10-09 20:28:47,777 INFO Bot.Main: [OK] All bot modules initialized successfully.
2025-10-09 20:28:47,777 INFO Bot.Main: [HEALTH] Running pre-startup health checks...
2025-10-09 20:28:47,777 INFO HealthCheck: Starting health checks...
2025-10-09 20:28:48,226 ERROR HealthCheck: Health checks failed on: mongodb
2025-10-09 20:28:48,226 CRITICAL Bot.Main: [CRASH] Health checks failed. Bot startup aborted.
2025-10-09 20:28:48,226 INFO Bot.Main: [STOP] Bot shutdown initiated.
2025-10-09 20:28:48,226 INFO Bot.Main: [EXIT] Bot process exiting.
2025-10-09 20:31:16,626 INFO root: File logging enabled: logs/ryuuko.log
2025-10-09 20:31:16,626 INFO root: Log rotation: daily, keeping 30 days
2025-10-09 20:31:16,626 INFO root: Compressed archives will be created in: logs
2025-10-09 20:31:16,626 INFO __main__: Starting application...
2025-10-09 20:31:16,626 INFO __main__: Initializing storage...
2025-10-09 20:31:16,627 INFO Config.Loader: Initializing MongoDB connection to database: polydevsdb
2025-10-09 20:31:16,636 INFO Storage.Database: MongoDB indexes created successfully
2025-10-09 20:31:16,636 INFO Storage.Database: Successfully connected to MongoDB: polydevsdb
2025-10-09 20:31:16,637 INFO Config.Loader: MongoDB store initialized successfully.
2025-10-09 20:31:16,637 INFO __main__: Storage initialized successfully.
2025-10-09 20:31:16,637 WARNING discord.client: PyNaCl is not installed, voice will NOT be supported
2025-10-09 20:31:16,638 INFO Bot.Main: [INIT] Initializing bot modules...
2025-10-09 20:31:16,638 INFO Storage.Memory: MemoryStore initialized with MongoDB backend.
2025-10-09 20:31:16,638 INFO Config.UserConfig: UserConfigManager initialized successfully with MongoDB.
2025-10-09 20:31:16,638 INFO Bot.Services.Auth: [OK] Loaded 0 authorized users from MongoDB.
2025-10-09 20:31:16,638 INFO Bot.Commands: [INIT] Registering all command groups...
2025-10-09 20:31:16,638 INFO Bot.Commands.Basic: Basic commands have been successfully registered.
2025-10-09 20:31:16,638 INFO Bot.Commands.User: User commands have been successfully registered.
2025-10-09 20:31:16,638 INFO Bot.Commands.Admin: Admin commands have been successfully registered.
2025-10-09 20:31:16,639 INFO Bot.Commands.System: System commands have been successfully registered.
2025-10-09 20:31:16,639 INFO Bot.Commands: [OK] All command groups have been registered.
2025-10-09 20:31:16,639 INFO Bot.Events.Messages: [OK] Message event listeners have been registered
2025-10-09 20:31:16,639 INFO Bot.Main: [OK] All bot modules initialized successfully.
2025-10-09 20:31:16,639 INFO Bot.Main: [HEALTH] Running pre-startup health checks...
2025-10-09 20:31:16,639 INFO HealthCheck: Starting health checks...
2025-10-09 20:31:17,152 INFO Bot.Main: [OK] All health checks passed!
2025-10-09 20:31:17,152 INFO Bot.Main: [START] Starting Discord bot...
2025-10-09 20:31:20,768 INFO Bot.Main: [OK] Bot is ready: Ryuuko Preview#2812 (id=1425479067095797924)
2025-10-09 20:31:20,768 INFO Bot.Main: Registered prefix commands: ['addcredit', 'addmodel', 'auth', 'auths', 'clearmemory', 'deauth', 'deductcredit', 'editmodel', 'help', 'memory', 'model', 'models', 'ping', 'profile', 'removemodel', 'setcredit', 'setlevel', 'showprompt', 'sysprompt']
2025-10-09 20:31:44,425 INFO Bot.Main: [EXIT] Bot process exiting.
2025-10-09 20:31:44,427 INFO __main__: Shutdown signal received.
2025-10-09 20:31:46,014 INFO root: File logging enabled: logs/ryuuko.log
2025-10-09 20:31:46,014 INFO root: Log rotation: daily, keeping 30 days
2025-10-09 20:31:46,014 INFO root: Compressed archives will be created in: logs
2025-10-09 20:31:46,014 INFO __main__: Starting application...
2025-10-09 20:31:46,014 INFO __main__: Initializing storage...
2025-10-09 20:31:46,014 INFO Config.Loader: Initializing MongoDB connection to database: polydevsdb
2025-10-09 20:31:46,028 INFO Storage.Database: MongoDB indexes created successfully
2025-10-09 20:31:46,028 INFO Storage.Database: Successfully connected to MongoDB: polydevsdb
2025-10-09 20:31:46,029 INFO Config.Loader: MongoDB store initialized successfully.
2025-10-09 20:31:46,029 INFO __main__: Storage initialized successfully.
2025-10-09 20:31:46,029 WARNING discord.client: PyNaCl is not installed, voice will NOT be supported
2025-10-09 20:31:46,029 INFO Bot.Main: [INIT] Initializing bot modules...
2025-10-09 20:31:46,029 INFO Storage.Memory: MemoryStore initialized with MongoDB backend.
2025-10-09 20:31:46,029 INFO Config.UserConfig: UserConfigManager initialized successfully with MongoDB.
2025-10-09 20:31:46,030 INFO Bot.Services.Auth: [OK] Loaded 0 authorized users from MongoDB.
2025-10-09 20:31:46,030 INFO Bot.Commands: [INIT] Registering all command groups...
2025-10-09 20:31:46,030 INFO Bot.Commands.Basic: Basic commands have been successfully registered.
2025-10-09 20:31:46,030 INFO Bot.Commands.User: User commands have been successfully registered.
2025-10-09 20:31:46,030 INFO Bot.Commands.Admin: Admin commands have been successfully registered.
2025-10-09 20:31:46,030 INFO Bot.Commands.System: System commands have been successfully registered.
2025-10-09 20:31:46,030 INFO Bot.Commands: [OK] All command groups have been registered.
2025-10-09 20:31:46,030 INFO Bot.Events.Messages: [OK] Message event listeners have been registered
2025-10-09 20:31:46,030 INFO Bot.Main: [OK] All bot modules initialized successfully.
2025-10-09 20:31:46,031 INFO Bot.Main: [HEALTH] Running pre-startup health checks...
2025-10-09 20:31:46,031 INFO HealthCheck: Starting health checks...
2025-10-09 20:31:46,453 INFO Bot.Main: [OK] All health checks passed!
2025-10-09 20:31:46,453 INFO Bot.Main: [START] Starting Discord bot...
2025-10-09 20:31:50,352 INFO Bot.Main: [OK] Bot is ready: Ryuuko Preview#2812 (id=1425479067095797924)
2025-10-09 20:31:50,352 INFO Bot.Main: Registered prefix commands: ['addcredit', 'addmodel', 'auth', 'auths', 'clearmemory', 'deauth', 'deductcredit', 'editmodel', 'help', 'memory', 'model', 'models', 'ping', 'profile', 'removemodel', 'setcredit', 'setlevel', 'showprompt', 'sysprompt']
2025-10-09 20:32:43,690 INFO Request Queue: Adding request to queue for user 1320303839701897230: ê
2025-10-09 20:32:43,691 INFO Request Queue: Request queue worker started
2025-10-09 20:33:08,706 INFO Request Queue: Adding request to queue for user 1320303839701897230: ê
2025-10-09 20:33:10,642 ERROR Gateway.Logic: Error from 'polydevs' (Status 500): {"ok":false,"error":"configuration_error","detail":"Instructions not loaded. CRITICAL: instructions.json not found! Tried paths:\n/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/llm_services/providers/instructions.json\n/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/instructions.json\n/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/llm_services/instructions.json\n/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/scripts/instructions.json"}
2025-10-09 20:33:10,642 ERROR Bot.API.Client: Gateway logic returned an error: API Error from polydevs: {"ok":false,"error":"configuration_error","detail":"Instructions not loaded. CRITICAL: instructions.json not found! Tried paths:\n/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/llm_services/providers/instructions.json\n/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/instructions.json\n/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/llm_services/instructions.json\n/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/scripts/instructions.json"}
2025-10-09 20:45:17,783 INFO root: File logging enabled: logs/ryuuko.log
2025-10-09 20:45:17,784 INFO root: Log rotation: daily, keeping 30 days
2025-10-09 20:45:17,784 INFO root: Compressed archives will be created in: logs
2025-10-09 20:45:17,784 INFO __main__: Starting application...
2025-10-09 20:45:17,784 INFO __main__: Initializing storage...
2025-10-09 20:45:17,784 INFO Config.Loader: Initializing MongoDB connection to database: polydevsdb
2025-10-09 20:45:17,808 INFO Storage.Database: MongoDB indexes created successfully
2025-10-09 20:45:17,808 INFO Storage.Database: Successfully connected to MongoDB: polydevsdb
2025-10-09 20:45:17,839 INFO Config.Loader: MongoDB store initialized successfully.
2025-10-09 20:45:17,839 INFO __main__: Storage initialized successfully.
2025-10-09 20:45:17,840 WARNING discord.client: PyNaCl is not installed, voice will NOT be supported
2025-10-09 20:45:17,840 INFO Bot.Main: [INIT] Initializing bot modules...
2025-10-09 20:45:17,840 INFO Storage.Memory: MemoryStore initialized with MongoDB backend.
2025-10-09 20:45:17,840 INFO Config.UserConfig: UserConfigManager initialized successfully with MongoDB.
2025-10-09 20:45:17,841 INFO Bot.Services.Auth: [OK] Loaded 0 authorized users from MongoDB.
2025-10-09 20:45:17,841 INFO Bot.Commands: [INIT] Registering all command groups...
2025-10-09 20:45:17,841 INFO Bot.Commands.Basic: Basic commands have been successfully registered.
2025-10-09 20:45:17,841 INFO Bot.Commands.User: User commands have been successfully registered.
2025-10-09 20:45:17,841 INFO Bot.Commands.Admin: Admin commands have been successfully registered.
2025-10-09 20:45:17,842 INFO Bot.Commands.System: System commands have been successfully registered.
2025-10-09 20:45:17,842 INFO Bot.Commands: [OK] All command groups have been registered.
2025-10-09 20:45:17,842 INFO Bot.Events.Messages: [OK] Message event listeners have been registered
2025-10-09 20:45:17,842 INFO Bot.Main: [OK] All bot modules initialized successfully.
2025-10-09 20:45:17,842 INFO Bot.Main: [HEALTH] Running pre-startup health checks...
2025-10-09 20:45:17,842 INFO HealthCheck: Starting health checks...
2025-10-09 20:45:18,396 INFO Bot.Main: [OK] All health checks passed!
2025-10-09 20:45:18,396 INFO Bot.Main: [START] Starting Discord bot...
2025-10-09 20:45:22,230 INFO Bot.Main: [OK] Bot is ready: Ryuuko Preview#2812 (id=1425479067095797924)
2025-10-09 20:45:22,230 INFO Bot.Main: Registered prefix commands: ['addcredit', 'addmodel', 'auth', 'auths', 'clearmemory', 'deauth', 'deductcredit', 'editmodel', 'help', 'memory', 'model', 'models', 'ping', 'profile', 'removemodel', 'setcredit', 'setlevel', 'showprompt', 'sysprompt']
2025-10-09 20:45:25,439 INFO Request Queue: Adding request to queue for user 1320303839701897230: ee
2025-10-09 20:45:25,439 INFO Request Queue: Request queue worker started
2025-10-09 20:45:25,692 ERROR Gateway.Logic: Error from 'polydevs' (Status 500): {"ok":false,"error":"configuration_error","detail":"Instructions not loaded. CRITICAL: instructions.json not found! Tried paths:\n/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/instructions.json\n/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/llm_services/providers/instructions.json\n/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/instructions.json\n/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/llm_services/instructions.json\n/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/scripts/instructions.json"}
2025-10-09 20:45:25,692 ERROR Bot.API.Client: Gateway logic returned an error: API Error from polydevs: {"ok":false,"error":"configuration_error","detail":"Instructions not loaded. CRITICAL: instructions.json not found! Tried paths:\n/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/instructions.json\n/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/llm_services/providers/instructions.json\n/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/instructions.json\n/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/packages/bot/src/llm_services/instructions.json\n/Users/zvwgvx/PycharmProjects/ryuuko-chatbot/scripts/instructions.json"}
2025-10-09 20:53:02,078 INFO Bot.Main: [EXIT] Bot process exiting.
2025-10-09 20:53:02,080 INFO Request Queue: Request queue worker cancelled
2025-10-09 20:53:02,081 INFO __main__: Shutdown signal received.
2025-10-09 20:53:04,401 INFO root: File logging enabled: logs/ryuuko.log
2025-10-09 20:53:04,401 INFO root: Log rotation: daily, keeping 30 days
2025-10-09 20:53:04,401 INFO root: Compressed archives will be created in: logs
2025-10-09 20:53:04,401 INFO __main__: Starting application...
2025-10-09 20:53:04,401 INFO __main__: Initializing storage...
2025-10-09 20:53:04,401 INFO Config.Loader: Initializing MongoDB connection to database: polydevsdb
2025-10-09 20:53:04,418 INFO Storage.Database: MongoDB indexes created successfully
2025-10-09 20:53:04,418 INFO Storage.Database: Successfully connected to MongoDB: polydevsdb
2025-10-09 20:53:04,420 INFO Config.Loader: MongoDB store initialized successfully.
2025-10-09 20:53:04,420 INFO __main__: Storage initialized successfully.
2025-10-09 20:53:04,421 WARNING discord.client: PyNaCl is not installed, voice will NOT be supported
2025-10-09 20:53:04,421 INFO Bot.Main: [INIT] Initializing bot modules...
2025-10-09 20:53:04,421 INFO Storage.Memory: MemoryStore initialized with MongoDB backend.
2025-10-09 20:53:04,421 INFO Config.UserConfig: UserConfigManager initialized successfully with MongoDB.
2025-10-09 20:53:04,422 INFO Bot.Services.Auth: [OK] Loaded 0 authorized users from MongoDB.
2025-10-09 20:53:04,422 INFO Bot.Commands: [INIT] Registering all command groups...
2025-10-09 20:53:04,422 INFO Bot.Commands.Basic: Basic commands have been successfully registered.
2025-10-09 20:53:04,423 INFO Bot.Commands.User: User commands have been successfully registered.
2025-10-09 20:53:04,423 INFO Bot.Commands.Admin: Admin commands have been successfully registered.
2025-10-09 20:53:04,424 INFO Bot.Commands.System: System commands have been successfully registered.
2025-10-09 20:53:04,424 INFO Bot.Commands: [OK] All command groups have been registered.
2025-10-09 20:53:04,424 INFO Bot.Events.Messages: [OK] Message event listeners have been registered
2025-10-09 20:53:04,424 INFO Bot.Main: [OK] All bot modules initialized successfully.
2025-10-09 20:53:04,424 INFO Bot.Main: [HEALTH] Running pre-startup health checks...
2025-10-09 20:53:04,424 INFO HealthCheck: Starting health checks...
2025-10-09 20:53:04,857 INFO Bot.Main: [OK] All health checks passed!
2025-10-09 20:53:04,857 INFO Bot.Main: [START] Starting Discord bot...
2025-10-09 20:53:08,486 INFO Bot.Main: [OK] Bot is ready: Ryuuko Preview#2812 (id=1425479067095797924)
2025-10-09 20:53:08,487 INFO Bot.Main: Registered prefix commands: ['addcredit', 'addmodel', 'auth', 'auths', 'clearmemory', 'deauth', 'deductcredit', 'editmodel', 'help', 'memory', 'model', 'models', 'ping', 'profile', 'removemodel', 'setcredit', 'setlevel', 'showprompt', 'sysprompt']
2025-10-09 20:53:16,293 INFO Request Queue: Adding request to queue for user 1320303839701897230: ê
2025-10-09 20:53:16,294 INFO Request Queue: Request queue worker started
2025-10-09 20:53:16,877 INFO google_genai.models: AFC is enabled with max remote calls: 10.
2025-10-09 20:53:18,916 INFO httpx: HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent "HTTP/1.1 200 OK"
2025-10-09 20:53:19,670 INFO Storage.Database: Successfully added message for user 1320303839701897230. Total messages: 1
2025-10-09 20:53:19,676 INFO Storage.Database: Successfully added message for user 1320303839701897230. Total messages: 2
2025-10-09 20:57:09,261 INFO Bot.Services.Auth: Successfully added user 1044966320208359525 to authorized list in MongoDB.
2025-10-09 20:57:09,262 INFO Bot.Main: In-memory auth set updated: added 1044966320208359525
2025-10-09 20:57:25,452 INFO Bot.Services.Auth: Successfully added user 1320303839701897230 to authorized list in MongoDB.
2025-10-09 20:57:25,452 INFO Bot.Main: In-memory auth set updated: added 1320303839701897230
2025-10-09 20:58:04,358 INFO Bot.Main: [EXIT] Bot process exiting.
2025-10-09 20:58:04,359 INFO Request Queue: Request queue worker cancelled
2025-10-09 20:58:04,360 INFO __main__: Shutdown signal received.
