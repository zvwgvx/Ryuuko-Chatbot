2025-10-11 14:39:07,695 INFO root: File logging enabled: logs/ryuuko.log
2025-10-11 14:39:07,703 INFO root: Log rotation: daily, keeping 30 days
2025-10-11 14:39:07,703 INFO root: Compressed archives will be created in: logs
2025-10-11 14:39:07,703 INFO __main__: Starting application...
2025-10-11 14:39:07,703 INFO __main__: Initializing storage...
2025-10-11 14:39:07,703 INFO Config.Loader: Initializing MongoDB connection to database: polydevsdb
2025-10-11 14:39:07,727 INFO Storage.Database: MongoDB indexes created successfully
2025-10-11 14:39:07,727 INFO Storage.Database: Successfully connected to MongoDB: polydevsdb
2025-10-11 14:39:07,758 INFO Config.Loader: MongoDB store initialized successfully.
2025-10-11 14:39:07,758 INFO __main__: Storage initialized successfully.
2025-10-11 14:39:07,758 WARNING discord.client: PyNaCl is not installed, voice will NOT be supported
2025-10-11 14:39:07,758 INFO Bot.Main: [INIT] Initializing bot modules...
2025-10-11 14:39:07,758 INFO Storage.Memory: MemoryStore initialized with MongoDB backend.
2025-10-11 14:39:07,759 INFO Config.UserConfig: UserConfigManager initialized successfully with MongoDB.
2025-10-11 14:39:07,760 INFO Bot.Services.Auth: [OK] Loaded 3 authorized users from MongoDB.
2025-10-11 14:39:07,760 INFO Bot.Commands: [INIT] Registering all command groups...
2025-10-11 14:39:07,760 INFO Bot.Commands.Basic: Basic commands have been successfully registered.
2025-10-11 14:39:07,760 INFO Bot.Commands.User: User commands have been successfully registered.
2025-10-11 14:39:07,761 INFO Bot.Commands.Admin: Admin commands have been successfully registered.
2025-10-11 14:39:07,761 INFO Bot.Commands.System: System commands have been successfully registered.
2025-10-11 14:39:07,761 INFO Bot.Commands: [OK] All command groups have been registered.
2025-10-11 14:39:07,761 INFO Bot.Events.Messages: [OK] Message event listeners have been registered
2025-10-11 14:39:07,761 INFO Bot.Main: [OK] All bot modules initialized successfully.
2025-10-11 14:39:07,761 INFO Bot.Main: [HEALTH] Running pre-startup health checks...
2025-10-11 14:39:07,761 INFO HealthCheck: Starting health checks...
2025-10-11 14:39:08,155 INFO Bot.Main: [OK] All health checks passed!
2025-10-11 14:39:08,155 INFO Bot.Main: [START] Starting Discord bot...
2025-10-11 14:39:11,635 INFO Bot.Main: [OK] Bot is ready: Ryuuko Preview#2812 (id=1425479067095797924)
2025-10-11 14:39:11,635 INFO Bot.Main: Registered prefix commands: ['addcredit', 'addmodel', 'auth', 'auths', 'clearmemory', 'deauth', 'deductcredit', 'editmodel', 'help', 'memory', 'model', 'models', 'ping', 'profile', 'removemodel', 'setcredit', 'setlevel', 'showprompt', 'sysprompt']
2025-10-11 14:41:15,322 INFO Storage.Database: Cleared memory for user 1320303839701897230
2025-10-11 14:41:23,014 INFO Request Queue: Adding request to queue for user 1320303839701897230: ê
2025-10-11 14:41:23,014 INFO Request Queue: Request queue worker started
2025-10-11 14:41:23,040 ERROR Gateway.Logic: Error from 'polydevs' (Status 500): {"ok":false,"error":"dependency_not_found","detail":"openai library not found. Please install it with 'pip install openai'"}
2025-10-11 14:41:23,041 ERROR Bot.API.Client: Gateway logic returned an error: API Error from polydevs: {"ok":false,"error":"dependency_not_found","detail":"openai library not found. Please install it with 'pip install openai'"}
2025-10-11 14:46:43,069 INFO Bot.Main: [EXIT] Bot process exiting.
2025-10-11 14:46:43,070 INFO Request Queue: Request queue worker cancelled
2025-10-11 14:46:43,071 INFO __main__: Shutdown signal received.
2025-10-11 14:48:31,268 INFO root: File logging enabled: logs/ryuuko.log
2025-10-11 14:48:31,269 INFO root: Log rotation: daily, keeping 30 days
2025-10-11 14:48:31,269 INFO root: Compressed archives will be created in: logs
2025-10-11 14:48:31,269 INFO __main__: Starting application...
2025-10-11 14:48:31,269 INFO __main__: Initializing storage...
2025-10-11 14:48:31,269 INFO Config.Loader: Initializing MongoDB connection to database: polydevsdb
2025-10-11 14:48:31,281 INFO Storage.Database: MongoDB indexes created successfully
2025-10-11 14:48:31,282 INFO Storage.Database: Successfully connected to MongoDB: polydevsdb
2025-10-11 14:48:31,283 INFO Config.Loader: MongoDB store initialized successfully.
2025-10-11 14:48:31,283 INFO __main__: Storage initialized successfully.
2025-10-11 14:48:31,283 WARNING discord.client: PyNaCl is not installed, voice will NOT be supported
2025-10-11 14:48:31,283 INFO Bot.Main: [INIT] Initializing bot modules...
2025-10-11 14:48:31,283 INFO Storage.Memory: MemoryStore initialized with MongoDB backend.
2025-10-11 14:48:31,283 INFO Config.UserConfig: UserConfigManager initialized successfully with MongoDB.
2025-10-11 14:48:31,284 INFO Bot.Services.Auth: [OK] Loaded 3 authorized users from MongoDB.
2025-10-11 14:48:31,284 INFO Bot.Commands: [INIT] Registering all command groups...
2025-10-11 14:48:31,284 INFO Bot.Commands.Basic: Basic commands have been successfully registered.
2025-10-11 14:48:31,285 INFO Bot.Commands.User: User commands have been successfully registered.
2025-10-11 14:48:31,285 INFO Bot.Commands.Admin: Admin commands have been successfully registered.
2025-10-11 14:48:31,285 INFO Bot.Commands.System: System commands have been successfully registered.
2025-10-11 14:48:31,285 INFO Bot.Commands: [OK] All command groups have been registered.
2025-10-11 14:48:31,285 INFO Bot.Events.Messages: [OK] Message event listeners have been registered
2025-10-11 14:48:31,285 INFO Bot.Main: [OK] All bot modules initialized successfully.
2025-10-11 14:48:31,285 INFO Bot.Main: [HEALTH] Running pre-startup health checks...
2025-10-11 14:48:31,285 INFO HealthCheck: Starting health checks...
2025-10-11 14:48:31,713 INFO Bot.Main: [OK] All health checks passed!
2025-10-11 14:48:31,713 INFO Bot.Main: [START] Starting Discord bot...
2025-10-11 14:48:35,451 INFO Bot.Main: [OK] Bot is ready: Ryuuko Preview#2812 (id=1425479067095797924)
2025-10-11 14:48:35,452 INFO Bot.Main: Registered prefix commands: ['addcredit', 'addmodel', 'auth', 'auths', 'clearmemory', 'deauth', 'deductcredit', 'editmodel', 'help', 'memory', 'model', 'models', 'ping', 'profile', 'removemodel', 'setcredit', 'setlevel', 'showprompt', 'sysprompt']
2025-10-11 14:49:17,528 INFO Request Queue: Adding request to queue for user 1320303839701897230: ê
2025-10-11 14:49:17,529 INFO Request Queue: Request queue worker started
2025-10-11 14:49:17,538 ERROR Gateway.Logic: Error from 'polydevs' (Status 500): {"ok":false,"error":"dependency_not_found","detail":"openai library not found. Please install it with 'pip install openai'"}
2025-10-11 14:49:17,538 ERROR Bot.API.Client: Gateway logic returned an error: API Error from polydevs: {"ok":false,"error":"dependency_not_found","detail":"openai library not found. Please install it with 'pip install openai'"}
2025-10-11 14:49:22,520 INFO Bot.Main: [EXIT] Bot process exiting.
2025-10-11 14:49:22,520 INFO Request Queue: Request queue worker cancelled
2025-10-11 14:49:22,521 INFO __main__: Shutdown signal received.
2025-10-11 14:49:57,190 INFO root: File logging enabled: logs/ryuuko.log
2025-10-11 14:49:57,190 INFO root: Log rotation: daily, keeping 30 days
2025-10-11 14:49:57,190 INFO root: Compressed archives will be created in: logs
2025-10-11 14:49:57,190 INFO __main__: Starting application...
2025-10-11 14:49:57,190 INFO __main__: Initializing storage...
2025-10-11 14:49:57,191 INFO Config.Loader: Initializing MongoDB connection to database: polydevsdb
2025-10-11 14:49:57,203 INFO Storage.Database: MongoDB indexes created successfully
2025-10-11 14:49:57,203 INFO Storage.Database: Successfully connected to MongoDB: polydevsdb
2025-10-11 14:49:57,204 INFO Config.Loader: MongoDB store initialized successfully.
2025-10-11 14:49:57,204 INFO __main__: Storage initialized successfully.
2025-10-11 14:49:57,205 WARNING discord.client: PyNaCl is not installed, voice will NOT be supported
2025-10-11 14:49:57,205 INFO Bot.Main: [INIT] Initializing bot modules...
2025-10-11 14:49:57,205 INFO Storage.Memory: MemoryStore initialized with MongoDB backend.
2025-10-11 14:49:57,205 INFO Config.UserConfig: UserConfigManager initialized successfully with MongoDB.
2025-10-11 14:49:57,205 INFO Bot.Services.Auth: [OK] Loaded 3 authorized users from MongoDB.
2025-10-11 14:49:57,205 INFO Bot.Commands: [INIT] Registering all command groups...
2025-10-11 14:49:57,206 INFO Bot.Commands.Basic: Basic commands have been successfully registered.
2025-10-11 14:49:57,206 INFO Bot.Commands.User: User commands have been successfully registered.
2025-10-11 14:49:57,206 INFO Bot.Commands.Admin: Admin commands have been successfully registered.
2025-10-11 14:49:57,206 INFO Bot.Commands.System: System commands have been successfully registered.
2025-10-11 14:49:57,206 INFO Bot.Commands: [OK] All command groups have been registered.
2025-10-11 14:49:57,206 INFO Bot.Events.Messages: [OK] Message event listeners have been registered
2025-10-11 14:49:57,206 INFO Bot.Main: [OK] All bot modules initialized successfully.
2025-10-11 14:49:57,206 INFO Bot.Main: [HEALTH] Running pre-startup health checks...
2025-10-11 14:49:57,206 INFO HealthCheck: Starting health checks...
2025-10-11 14:49:57,692 INFO Bot.Main: [OK] All health checks passed!
2025-10-11 14:49:57,692 INFO Bot.Main: [START] Starting Discord bot...
2025-10-11 14:50:01,097 INFO Request Queue: Adding request to queue for user 1320303839701897230: ee
2025-10-11 14:50:01,098 INFO Request Queue: Request queue worker started
2025-10-11 14:50:01,439 INFO Bot.Main: [OK] Bot is ready: Ryuuko Preview#2812 (id=1425479067095797924)
2025-10-11 14:50:01,440 INFO Bot.Main: Registered prefix commands: ['addcredit', 'addmodel', 'auth', 'auths', 'clearmemory', 'deauth', 'deductcredit', 'editmodel', 'help', 'memory', 'model', 'models', 'ping', 'profile', 'removemodel', 'setcredit', 'setlevel', 'showprompt', 'sysprompt']
2025-10-11 14:50:01,669 INFO httpx: HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/chat/completions "HTTP/1.1 404 Not Found"
2025-10-11 14:50:01,670 ERROR Bot.API.Client: No content found in successful API response: {'ok': False, 'error': 'upstream_error', 'detail': "Upstream API error: Error code: 404 - [{'error': {'code': 404, 'message': 'models/gemini-1.5-flash is not found for API version v1main, or is not supported for generateContent. Call ListModels to see the list of available models and their supported methods.', 'status': 'NOT_FOUND'}}]"}
2025-10-11 15:01:29,299 INFO Bot.Main: [EXIT] Bot process exiting.
2025-10-11 15:01:29,302 INFO Request Queue: Request queue worker cancelled
2025-10-11 15:01:29,303 INFO __main__: Shutdown signal received.
2025-10-11 15:05:27,335 INFO root: File logging enabled: logs/ryuuko.log
2025-10-11 15:05:27,335 INFO root: Log rotation: daily, keeping 30 days
2025-10-11 15:05:27,335 INFO root: Compressed archives will be created in: logs
2025-10-11 15:05:27,335 INFO __main__: Starting application...
2025-10-11 15:05:27,335 INFO __main__: Initializing storage...
2025-10-11 15:05:27,335 INFO Config.Loader: Initializing MongoDB connection to database: polydevsdb
2025-10-11 15:05:27,344 INFO Storage.Database: MongoDB indexes created successfully
2025-10-11 15:05:27,344 INFO Storage.Database: Successfully connected to MongoDB: polydevsdb
2025-10-11 15:05:27,346 INFO Config.Loader: MongoDB store initialized successfully.
2025-10-11 15:05:27,346 INFO __main__: Storage initialized successfully.
2025-10-11 15:05:27,346 WARNING discord.client: PyNaCl is not installed, voice will NOT be supported
2025-10-11 15:05:27,346 INFO Bot.Main: [INIT] Initializing bot modules...
2025-10-11 15:05:27,346 INFO Storage.Memory: MemoryStore initialized with MongoDB backend.
2025-10-11 15:05:27,346 INFO Config.UserConfig: UserConfigManager initialized successfully with MongoDB.
2025-10-11 15:05:27,347 INFO Bot.Services.Auth: [OK] Loaded 3 authorized users from MongoDB.
2025-10-11 15:05:27,347 INFO Bot.Commands: [INIT] Registering all command groups...
2025-10-11 15:05:27,347 INFO Bot.Commands.Basic: Basic commands have been successfully registered.
2025-10-11 15:05:27,347 INFO Bot.Commands.User: User commands have been successfully registered.
2025-10-11 15:05:27,347 INFO Bot.Commands.Admin: Admin commands have been successfully registered.
2025-10-11 15:05:27,347 INFO Bot.Commands.System: System commands have been successfully registered.
2025-10-11 15:05:27,348 INFO Bot.Commands: [OK] All command groups have been registered.
2025-10-11 15:05:27,348 INFO Bot.Events.Messages: [OK] Message event listeners have been registered
2025-10-11 15:05:27,348 INFO Bot.Main: [OK] All bot modules initialized successfully.
2025-10-11 15:05:27,348 INFO Bot.Main: [HEALTH] Running pre-startup health checks...
2025-10-11 15:05:27,348 INFO HealthCheck: Starting health checks...
2025-10-11 15:05:27,744 INFO Bot.Main: [OK] All health checks passed!
2025-10-11 15:05:27,744 INFO Bot.Main: [START] Starting Discord bot...
2025-10-11 15:05:32,819 INFO Bot.Main: [OK] Bot is ready: Ryuuko Preview#2812 (id=1425479067095797924)
2025-10-11 15:05:32,819 INFO Bot.Main: Registered prefix commands: ['addcredit', 'addmodel', 'auth', 'auths', 'clearmemory', 'deauth', 'deductcredit', 'editmodel', 'help', 'memory', 'model', 'models', 'ping', 'profile', 'removemodel', 'setcredit', 'setlevel', 'showprompt', 'sysprompt']
2025-10-11 15:05:46,531 INFO Request Queue: Adding request to queue for user 1320303839701897230: ê
2025-10-11 15:05:46,531 INFO Request Queue: Request queue worker started
2025-10-11 15:05:51,119 INFO httpx: HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/openai/chat/completions "HTTP/1.1 200 OK"
2025-10-11 15:05:51,748 INFO Storage.Database: Successfully added message for user 1320303839701897230. Total messages: 1
2025-10-11 15:05:51,755 INFO Storage.Database: Successfully added message for user 1320303839701897230. Total messages: 2
2025-10-11 15:08:03,846 INFO Request Queue: Adding request to queue for user 1320303839701897230: làm j đấy
2025-10-11 15:08:08,878 INFO httpx: HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/openai/chat/completions "HTTP/1.1 200 OK"
2025-10-11 15:08:09,407 INFO Storage.Database: Successfully added message for user 1320303839701897230. Total messages: 3
2025-10-11 15:08:09,412 INFO Storage.Database: Successfully added message for user 1320303839701897230. Total messages: 4
2025-10-11 15:08:19,916 INFO Request Queue: Adding request to queue for user 1320303839701897230: sao nói chuyện cọc v
2025-10-11 15:08:20,636 INFO httpx: HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/openai/chat/completions "HTTP/1.1 200 OK"
2025-10-11 15:08:21,488 INFO Storage.Database: Successfully added message for user 1320303839701897230. Total messages: 5
2025-10-11 15:08:21,492 INFO Storage.Database: Successfully added message for user 1320303839701897230. Total messages: 6
2025-10-11 15:08:59,883 INFO Request Queue: Adding request to queue for user 1320303839701897230: ?
2025-10-11 15:09:00,336 INFO httpx: HTTP Request: POST https://generativelanguage.googleapis.com/v1beta/openai/chat/completions "HTTP/1.1 200 OK"
2025-10-11 15:09:01,038 INFO Storage.Database: Successfully added message for user 1320303839701897230. Total messages: 7
2025-10-11 15:09:01,045 INFO Storage.Database: Successfully added message for user 1320303839701897230. Total messages: 8
2025-10-11 15:10:06,747 INFO Storage.Database: Cleared memory for user 1320303839701897230
